<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Padr√µes Nutricionais e Risco de Diabetes Tipo 2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Stone, Slate, Muted Teal/Amber/Rose) -->
    <!-- Application Structure Plan: A five-section narrative flow (Intro, Methodology, Patterns, Key Finding, Conclusion) is used to guide the user from the problem (diabetes) to the solution (protective diet). This is more intuitive than the report's structure, transforming a scientific paper into an educational story. Interactions focus on exploring the three patterns and visualizing the key risk reduction finding. -->
    <!-- Visualization & Content Choices: Report Info: Case-control setup -> Goal: Explain method -> Viz: HTML/CSS diagram for clarity. Report Info: 3 nutrient patterns -> Goal: Compare composition -> Viz: Dynamic Polar Area Chart (Chart.js) to show nutrient profiles interactively. Report Info: Odds Ratios for T2D -> Goal: Highlight risk reduction -> Viz: Horizontal Bar Chart (Chart.js) for clear comparison of the three patterns' effects. Report Info: Food correlations -> Goal: Provide actionable advice -> Viz: Icon-based lists of recommended/discouraged foods. Justification: These choices prioritize user understanding and engagement over raw data presentation. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 350px;
            width: 100%;
            max-width: 450px;
        }
        .result-chart-container {
            position: relative;
            margin: auto;
            height: 250px;
            width: 100%;
            max-width: 600px;
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            background-color: #14b8a6;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-teal-600 mb-2">Sua Dieta e o Risco de Diabetes</h1>
            <p class="text-lg text-slate-600 max-w-3xl mx-auto">Uma an√°lise interativa do estudo de Haramshahi et al. sobre padr√µes nutricionais e Diabetes Tipo 2.</p>
        </header>

        <main>
            <section id="intro" class="mb-16">
                <div class="bg-white p-8 rounded-xl shadow-lg border border-slate-100">
                    <h2 class="text-3xl font-bold text-slate-800 mb-4 text-center">O Que Causa o Diabetes Tipo 2?</h2>
                    <p class="text-slate-600 mb-4 text-center max-w-4xl mx-auto">
                        O Diabetes Tipo 2 (DT2) √© uma preocupa√ß√£o global de sa√∫de, e a dieta desempenha um papel fundamental. Mas ser√° que nutrientes isolados contam toda a hist√≥ria? Este estudo investigou se a **combina√ß√£o de nutrientes** que consumimos ‚Äî nossos "padr√µes nutricionais" ‚Äî poderia estar ligada ao risco de desenvolver a doen√ßa. A ideia √© olhar para a dieta como um todo, n√£o apenas para partes dela.
                    </p>
                    <div class="flex justify-center mt-6">
                         <a href="#metodologia" class="bg-teal-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-600 transition duration-300">Descubra como eles investigaram</a>
                    </div>
                </div>
            </section>

            <section id="metodologia" class="mb-16">
                <h2 class="text-3xl font-bold text-slate-800 mb-6 text-center">Uma Investiga√ß√£o de Detetive: O M√©todo Caso-Controle</h2>
                <p class="text-slate-600 mb-8 text-center max-w-3xl mx-auto">Para encontrar as "pistas" na dieta, os pesquisadores usaram um m√©todo que olha para o passado, comparando pessoas que desenvolveram a doen√ßa com aquelas que n√£o a desenvolveram.</p>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-rose-200 text-center">
                        <div class="text-5xl mb-3">ü§í</div>
                        <h3 class="text-2xl font-bold text-rose-600">Grupo CASO</h3>
                        <p class="font-semibold text-lg">225 pessoas</p>
                        <p class="text-slate-600">Rec√©m-diagnosticadas com Diabetes Tipo 2.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-teal-200 text-center">
                        <div class="text-5xl mb-3">‚úÖ</div>
                        <h3 class="text-2xl font-bold text-teal-600">Grupo CONTROLE</h3>
                        <p class="font-semibold text-lg">225 pessoas</p>
                        <p class="text-slate-600">Saud√°veis, sem a doen√ßa, para compara√ß√£o.</p>
                    </div>
                </div>
                <div class="text-center my-6">
                    <div class="text-4xl text-slate-400 font-bold">&darr;</div>
                    <p class="text-slate-600 font-semibold mt-2">A pergunta central:</p>
                    <p class="text-xl text-slate-800 italic mt-1">"A dieta desses dois grupos era diferente no ano anterior ao diagn√≥stico?"</p>
                </div>
            </section>
            
            <section id="patterns" class="mb-16">
                <h2 class="text-3xl font-bold text-slate-800 mb-4 text-center">As 3 "Receitas" Nutricionais Encontradas</h2>
                <p class="text-slate-600 mb-8 text-center max-w-3xl mx-auto">A an√°lise revelou tr√™s padr√µes principais na dieta dos participantes. Clique em cada um para ver sua composi√ß√£o de nutrientes.</p>
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <button id="btn-p1" class="nav-button bg-white text-slate-700 font-semibold py-2 px-5 rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50">Padr√£o 1</button>
                    <button id="btn-p2" class="nav-button bg-white text-slate-700 font-semibold py-2 px-5 rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50">Padr√£o 2</button>
                    <button id="btn-p3" class="nav-button bg-white text-slate-700 font-semibold py-2 px-5 rounded-lg border border-slate-200 shadow-sm hover:bg-slate-50">Padr√£o 3 (Protetor)</button>
                </div>

                <div class="grid lg:grid-cols-2 gap-8 items-center bg-white p-8 rounded-xl shadow-lg border border-slate-100">
                    <div>
                        <h3 id="pattern-title" class="text-2xl font-bold text-slate-800 mb-2"></h3>
                        <p id="pattern-description" class="text-slate-600 mb-4"></p>
                        <div id="pattern-foods" class="mt-4"></div>
                    </div>
                    <div class="chart-container">
                        <canvas id="patternsChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="results" class="mb-16">
                <h2 class="text-3xl font-bold text-slate-800 mb-4 text-center">O Resultado Chave: Qual Padr√£o Protege Contra o Diabetes?</h2>
                <p class="text-slate-600 mb-8 text-center max-w-3xl mx-auto">O gr√°fico abaixo mostra o risco de desenvolver Diabetes Tipo 2 para cada padr√£o. Uma barra abaixo da linha de "risco neutro" indica um efeito protetor.</p>
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg border border-slate-100">
                    <div class="result-chart-container">
                        <canvas id="riskChart"></canvas>
                    </div>
                    <div class="text-center mt-6">
                        <p class="text-lg text-slate-700 max-w-2xl mx-auto">
                            O **Padr√£o 3** mostrou uma associa√ß√£o not√°vel: quem mais aderiu a ele teve um **risco 48% menor** de desenvolver Diabetes Tipo 2. Os outros padr√µes n√£o mostraram um efeito significativo.
                        </p>
                    </div>
                </div>
            </section>
            
            <section id="conclusion" class="bg-teal-50 border border-teal-200 text-center p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold text-teal-700 mb-4">O Que Levar Desta Descoberta?</h2>
                <p class="text-teal-800 text-lg mb-6 max-w-3xl mx-auto">A mensagem √© clara e poderosa: uma dieta rica em alimentos de origem vegetal √© uma forte aliada na preven√ß√£o do Diabetes Tipo 2. O "Padr√£o 3" n√£o √© sobre um √∫nico "superalimento", mas sim sobre a sinergia de uma alimenta√ß√£o completa e natural.</p>
                <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                    <div class="bg-green-100 p-6 rounded-lg">
                        <h3 class="font-bold text-green-800 text-xl mb-2">‚úÖ Priorize estes alimentos:</h3>
                        <ul class="text-left text-green-700 space-y-1 list-disc list-inside">
                            <li>Frutas de todos os tipos</li>
                            <li>Vegetais e folhas verdes</li>
                            <li>Nozes e sementes</li>
                            <li>Gr√£os integrais e leguminosas</li>
                        </ul>
                    </div>
                    <div class="bg-rose-100 p-6 rounded-lg">
                        <h3 class="font-bold text-rose-800 text-xl mb-2">‚ùå Reduza o consumo de:</h3>
                        <ul class="text-left text-rose-700 space-y-1 list-disc list-inside">
                             <li>Carnes vermelhas e processadas</li>
                             <li>Gr√£os refinados (p√£o branco, arroz branco)</li>
                             <li>Latic√≠nios ricos em gordura</li>
                             <li>Salgadinhos e bebidas a√ßucaradas</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="text-center mt-12 pt-8 border-t border-slate-200">
            <p class="text-slate-500">Aplica√ß√£o criada para fins educacionais com base no artigo: Haramshahi, M., et al. (2024). *Nutritional patterns and the risk of type 2 diabetes mellitus: a case-control study*. BMC Endocrine Disorders.</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const patternsData = {
                p1: {
                    title: 'Padr√£o 1',
                    description: 'Este padr√£o √© caracterizado por um alto consumo de prote√≠na animal e sacarose (a√ß√∫car).',
                    labels: ['Prote√≠na Animal', 'Sacarose', 'Vitamina E', 'Vitamina B1', 'Vitamina B12', 'C√°lcio', 'F√≥sforo', 'Zinco'],
                    values: [0.67, 0.91, 0.63, 0.88, 0.49, 0.92, 0.91, 0.58],
                    color: 'rgba(244, 114, 182, 0.7)',
                    foods: [
                        { name: 'Carne Vermelha', icon: 'ü•©' },
                        { name: 'Doces e A√ß√∫cares', icon: 'üç¨' },
                        { name: 'Latic√≠nios', icon: 'ü•õ' }
                    ]
                },
                p2: {
                    title: 'Padr√£o 2',
                    description: 'Caracterizado por fibras e micronutrientes, mas tamb√©m negativamente associado a lactose e gorduras saturadas.',
                    labels: ['Fibra', 'Prote√≠na Vegetal', 'Vitamina D', 'Vitamina B2', 'Vitamina B5', 'Magn√©sio', 'Cobre'],
                    values: [0.76, 0.68, 0.78, 0.71, 0.52, 0.45, 0.59],
                    color: 'rgba(251, 146, 60, 0.7)',
                    foods: [
                        { name: 'Gr√£os Refinados', icon: 'üçû' },
                        { name: 'Leguminosas', icon: 'ü´ò' },
                        { name: 'Cogumelos', icon: 'üçÑ' }
                    ]
                },
                p3: {
                    title: 'Padr√£o 3: O Padr√£o Protetor',
                    description: 'Este padr√£o saud√°vel √© rico em fibras, prote√≠na vegetal e uma variedade de vitaminas e minerais provenientes de fontes naturais.',
                    labels: ['Fibra', 'Prote√≠na Vegetal', 'Vitamina A', 'Vitamina C', 'Vitamina B2', 'Pot√°ssio', 'C√°lcio'],
                    values: [0.53, 0.85, 0.49, 0.79, 0.46, 0.64, 0.76],
                    color: 'rgba(20, 184, 166, 0.7)',
                    foods: [
                        { name: 'Frutas', icon: 'üçì' },
                        { name: 'Vegetais', icon: 'ü•ï' },
                        { name: 'Nozes', icon: 'ü•ú' },
                        { name: '√ìleos Vegetais', icon: 'ü´í' }
                    ]
                }
            };

            const riskData = {
                labels: ['Padr√£o 1', 'Padr√£o 2', 'Padr√£o 3 (Protetor)'],
                datasets: [{
                    label: 'Risco de Diabetes (Raz√£o de Chances)',
                    data: [0.81, 1.09, 0.52],
                    backgroundColor: [
                        'rgba(244, 114, 182, 0.7)',
                        'rgba(251, 146, 60, 0.7)',
                        'rgba(20, 184, 166, 0.7)'
                    ],
                    borderColor: [
                        'rgb(244, 114, 182)',
                        'rgb(251, 146, 60)',
                        'rgb(20, 184, 166)'
                    ],
                    borderWidth: 1
                }]
            };

            const ctxPatterns = document.getElementById('patternsChart').getContext('2d');
            let patternsChart = new Chart(ctxPatterns, {
                type: 'polarArea',
                data: {},
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            pointLabels: {
                                display: true,
                                centerPointLabels: true,
                                font: {
                                    size: 14
                                }
                            },
                            ticks: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.formattedValue !== null) {
                                        label += context.formattedValue;
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            const ctxRisk = document.getElementById('riskChart').getContext('2d');
            new Chart(ctxRisk, {
                type: 'bar',
                data: riskData,
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Risco Relativo (Raz√£o de Chances)'
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        annotation: {
                            annotations: {
                                line1: {
                                    type: 'line',
                                    xMin: 1,
                                    xMax: 1,
                                    borderColor: 'rgb(255, 99, 132)',
                                    borderWidth: 2,
                                    borderDash: [6, 6],
                                    label: {
                                        content: 'Risco Neutro',
                                        enabled: true,
                                        position: 'start'
                                    }
                                }
                            }
                        }
                    }
                }
            });

            const titleEl = document.getElementById('pattern-title');
            const descriptionEl = document.getElementById('pattern-description');
            const foodsEl = document.getElementById('pattern-foods');
            const buttons = document.querySelectorAll('.nav-button');

            function updatePatternView(patternKey) {
                const data = patternsData[patternKey];
                
                titleEl.textContent = data.title;
                descriptionEl.textContent = data.description;
                
                foodsEl.innerHTML = '<h4 class="font-semibold text-slate-700 mb-2">Alimentos correlacionados:</h4>';
                const foodList = document.createElement('div');
                foodList.className = 'flex flex-wrap gap-4';
                data.foods.forEach(food => {
                    const foodItem = document.createElement('div');
                    foodItem.className = 'flex items-center gap-2 bg-slate-100 rounded-full px-3 py-1 text-sm';
                    foodItem.innerHTML = `<span>${food.icon}</span> <span class="text-slate-700">${food.name}</span>`;
                    foodList.appendChild(foodItem);
                });
                foodsEl.appendChild(foodList);

                patternsChart.data = {
                    labels: data.labels,
                    datasets: [{
                        label: 'Carga Fatorial',
                        data: data.values,
                        backgroundColor: data.labels.map(() => data.color)
                    }]
                };
                patternsChart.update();
                
                buttons.forEach(btn => btn.classList.remove('active'));
                document.getElementById(`btn-${patternKey}`).classList.add('active');
            }

            document.getElementById('btn-p1').addEventListener('click', () => updatePatternView('p1'));
            document.getElementById('btn-p2').addEventListener('click', () => updatePatternView('p2'));
            document.getElementById('btn-p3').addEventListener('click', () => updatePatternView('p3'));

            updatePatternView('p3');

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
